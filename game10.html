<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<title>Juegos con canvas</title>
		<script type="application/javascript" src='game10.js'></script>
		<link rel="stylesheet" type="text/css" href="style/style.css">
		<link rel="stylesheet" href="styles/pojoaque.css">	
		<script src="highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
	</head>
	<body>
		<p>
			En esta parte vamos a complicar un poco el juego añadiendo varios niveles,vamos a controlar el tamaño de nuestra serpiente y cuando tenga cierto tamaño consideraremos que pasa de nivel por lo que resetearemos su tamaño y complicaremos un poco nuestro cambas añadiendo mas paredes.
			También podríamos hacer que aumentase la velocidad a la que se mueve nuestra serpiente cambiando el 10 por un número mayor en nuestro código:
		</p>
		<pre>
			<code>
		if(dir==0)
            body[0].y-=10;
        if(dir==1)
            body[0].x+=10;
        if(dir==2)
            body[0].y+=10;
        if(dir==3)
            body[0].x-=10;
			</code>
		</pre>
		<p>
			En nuestro caso vamos a dibujar mas paredes cuando aumente hasta una cantidad grande nuestro tamaño:<br>
			Empezamos declarando una variable level para controlar el nivel en el que estamos y lo inicializamos a cero
		</p>
		<pre>
			<code>
				var level=0;
			</code>
		</pre>
		<p>
			Luego nos creamos una función en la que controlemos nuestro tamaño y cuando este sea mayor que 5 (Lo normal sería poner un alto mas alto que 5 pero de esta manera podemos ver como avanzamos de nivel rápidamente),aumentaremos su nivel en 1, reiniciamos el tamaño y la posición de nuestro personage y llamamos a una función que nos pinte mas o menos paredes en función del nivel.<br>
		</p>
		<pre>
			<code>
function checklevel(){
    if(body.length==5){
        level=level+1;
        paintwalls();//Llamamos a la función que nos crea las paredes en función del nivel.
        dir=1;
        lastPress=KEY_RIGHT;
        body.length=0;
        body.push(new Rectangle(40,40,10,10));
        body.push(new Rectangle(0,0,10,10));
        body.push(new Rectangle(0,0,10,10));
        food.x=random(canvas.width/10-1)*10;
        food.y=random(canvas.height/10-1)*10;
        pause=!pause;
    }
}
			</code>
		</pre>
		<p>
			Os dejo el código que he utilizado yo para dibujar las paredes según el nivel, pero eso cada uno lo puede poner como más le guste.
		</p>
		<iframe src="./iframe10.html" width='60%' height='440'>
		</iframe>
					<!-- <canvas onmouseover="hover1()" onmouseout="hover2()" id="canvas" width="300px" height="150px" scrolling="no">
						Canvas not supported by your browser
					</canvas> -->
		<script type="text/javascript">
				// document.write('<canvas onmouseover="hover1()" onmouseout="hover2()" id="canvas" width="300px" height="150px" scrolling="no">Canvas not supported by your browser</canvas>');
				document.write('<canvas onmouseover="hover1()" onmouseout="hover2()" id="canvas" width="600px" height="300px" scrolling="no">Canvas not supported by your browser</canvas>');
		// function check(){
		// if(level==0){
		// 	console.log('0');
		// }
		// else if(level==1){
		// 	console.log('1');
		// }else if(level==2){
		// 	console.log('2');
		// }else if(level==3){
		// 	console.log('3');
		// }
		// else if (level==4) {
		// 		clearInterval(interval);
		// 		document.write('<canvas onmouseover="hover1()" onmouseout="hover2()" id="canvas" width="600px" height="300px" scrolling="no">Canvas not supported by your browser</canvas>');
		// 		console.log('4');
		// 	}
		// }
		// var interval=setInterval('check()',50);
		</script>		
	</body>
</html>